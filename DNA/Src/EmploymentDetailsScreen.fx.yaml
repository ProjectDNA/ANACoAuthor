EmploymentDetailsScreen As screen:
    Fill: =BackgroundColor
    OnVisible: =

    EmploymentsDetails__MainHeader As MainHeader:
        PersonalImage: =currPersonnelImage
        PersonalInfoScreen: =PersonalInfoScreen

    EmploymentDetails_MenuLowerHeader As MenuLowerHeader:
        LowerMenuTextLabel: =If(LangEn, EmploymentData.Name, EmploymentData.'Employment Name FR')
        Y: =EmploymentsDetails__MainHeader.Height
        ZIndex: =2

    EmploymentDetails_eventName As label:
        FontWeight: =FontWeight.Semibold
        Height: =125
        LineHeight: =1
        PaddingTop: =20
        Size: =33
        Text: =If(LangEn, EmploymentData.Name, EmploymentData.'Employment Name FR')
        VerticalAlign: =VerticalAlign.Top
        Width: =398
        X: =38
        Y: =180
        ZIndex: =3

    EmploymentDetail_BackgroundDimmer As rectangle:
        Fill: =RGBA(0, 0, 0, 0.5)    
        Height: =Parent.Height
        Visible: =showImg
        Width: =Parent.Width
        ZIndex: =4

    EmploymentsDetails_ImageViewer As image:
        Height: =198
        Image: |-
            =//EventData.'Training Event'.'Attachment #1'.Value
        Visible: =showImg
        Width: =640
        Y: =938
        ZIndex: =5

    EmploymentsDetails_PdfViewer As pdfViewer:
        BorderColor: =RGBA(0, 0, 0, 1)
        Document: |-
            =//EventData.'Training Event'.'Attachment #2'.Value
        Fill: =RGBA(0, 0, 0, 0.5)
        Height: =127
        Visible: =showPdf
        Y: =926
        ZIndex: =6

    EmploymentsDetails_Cancel As icon.Add:
        Color: =RGBA(255, 0, 0, 1)
        Height: =52
        Icon: =Icon.CancelBadge
        OnSelect: |-
            =Set(showImg, false);
            Set(showPdf, false);
            Set(showAttachmentCancel, false)
        Visible: =showAttachmentCancel
        Width: =52
        X: =21
        Y: =111
        ZIndex: =7

    EmploymentsDetails_InfoCard As EmploymentInfoCard:
        EndDate: =Text(DateTimeValue(EmploymentData.'End Date'), "yyyy/mm/dd")
        Language: =EmploymentData.'Employment Language'
        link: =EmploymentData.'Employment Link'
        Location: =EmploymentData.Location
        OPIContact: =EmploymentData.OPI.'Mobile Phone Number'
        OPIEmail: =EmploymentData.OPI.'Military Email'
        OPIName: |+
            =If(
                LangEn,
                LookUp(
                    Personnels,
                    Personnel = EmploymentOpiID
                ).'Current Rank'.'Description Abbreviation Eng' & " " & LookUp(
                    Personnels,
                    Personnel = EmploymentOpiID
                ).'Last Name',
                LookUp(
                    Personnels,
                    Personnel = EmploymentOpiID
                ).'Current Rank'.'Description Abbreviation FR' & " " & LookUp(
                    Personnels,
                    Personnel = EmploymentOpiID
                ).'Last Name'
            )
            
        OPIUnit: =EmploymentData.'Hosting Unit'.'Unit Name'
        Rank: |
            =
            //Concat(EmploymentData.Ranks, Concatenate(Text(wywm_mil_rank),"  "))
            //"Cpl" //hard coded for the sake of screen shot for TDD
            
            Concat(EmploymentData.'Ranks (wywm_Employment_wywm_Rank_wywm_Rank)', Concatenate(Text(Name),"  "))
        StartDate: |
            =Text(DateTimeValue(EmploymentData.'Start Date'), "yyyy/mm/dd")
        Trade: |
            =
            Concat(EmploymentData.'MOS Trades (wywm_Employment_wywm_MOSTrade_wywm_MOSTra)', Concatenate(Text('MOS Trade Name'),"  "))
        X: =40
        Y: =305
        ZIndex: =17

    EmploymentDetails_CommitBtn As button:
        Fill: =Yellow1
        Height: =53
        OnSelect: =Launch(EmploymentData.'Employment Link')
        RadiusBottomLeft: =15
        RadiusBottomRight: =15
        RadiusTopLeft: =15
        RadiusTopRight: =15
        Size: =20
        Text: =__localizer.Localize("ANA_SEE_DETAILS", LangEn)
        Width: =159
        X: =441
        Y: =207
        ZIndex: =18

    Emp_Attach1_1 As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =24

        Course_AttachBtn_6 As button:
            Align: =Align.Left
            Color: =RGBA(0, 0, 0, 1)
            DisabledColor: =RGBA(0, 0, 0, 0)
            Fill: =Transparent
            FontWeight: =FontWeight.Normal
            Height: =26
            HoverBorderColor: =RGBA(0, 0, 0, 0)
            HoverColor: =RGBA(0, 0, 0, 1)
            HoverFill: =Transparent
            Italic: =true
            OnSelect: |-
                =If(
                    EndsWith(
                        Lower(EmploymentData.'Attachment #1'.FileName),
                        ".png"
                    ) || EndsWith(
                        Lower(EmploymentData.'Attachment #1'.FileName),
                        ".jpg"
                    ) || EndsWith(
                        Lower(EmploymentData.'Attachment #1'.FileName),
                        ".jpeg"
                    ),
                    // Set the Image variable to the file
                    Set(ImgVar, EmploymentData.'Attachment #1'.Value);
                    // Show the Image Viewer
                    Set(
                        showImg,
                        !showImg
                    );
                    // Show Image Viewer Exit Button
                    Set(
                        showAttachmentCancel,
                        !showAttachmentCancel
                    );
                    ,
                    // pdf or docx (nested if)
                    If(
                        EndsWith(
                            Lower(EmploymentData.'Attachment #1'.FileName),
                            ".pdf"
                        ),
                        // Set the DocVar to the file
                        Set(DocVar, EmploymentData.'Attachment #1'.Value);
                        // Show PDF Viewer
                        Set(
                            showPdf,
                            !showPdf
                        );
                        Set(
                            showAttachmentCancel,
                            !showAttachmentCancel
                        );
                        ,
                    // not an image && not a pdf
                        false
                    );
                    
                )
            PressedBorderColor: =
            PressedColor: =
            Size: =12
            Text: |
                =CourseData.'Attachment #1'.FileName
            Visible: |
                =If(Not(EmploymentData.'Attachment #1'.Value = Blank()) && showAttachments, true, false)
            Width: =469
            X: =65
            Y: =987
            ZIndex: =20

        download1_9 As icon.Save:
            Color: =RGBA(0, 0, 0, 1)
            Height: =16
            Icon: =Icon.Download
            OnSelect: |-
                =Download(BASE_ENVIRON_URL & "wywm_employments("&EmploymentData.'Employment Name'&")/wywm_attachment1/$value");
                Launch(BASE_ENVIRON_URL & "wywm_employments("&EmploymentData.'Employment Name'&")/wywm_attachment1/$value");
            Visible: |
                =If(Not(EmploymentData.'Attachment #1'.Value = Blank()) && showAttachments, true, false)
            Width: =40
            X: =537
            Y: =990
            ZIndex: =21

    Emp_Attach2_1 As group:
        Height: =5
        Width: =5
        X: =20
        Y: =20
        ZIndex: =27

        Course_AttachBtn_7 As button:
            Align: =Align.Left
            Color: =RGBA(0, 0, 0, 1)
            DisabledColor: =RGBA(0, 0, 0, 0)
            Fill: =Transparent
            FontWeight: =FontWeight.Normal
            Height: =26
            HoverBorderColor: =RGBA(0, 0, 0, 0)
            HoverColor: =RGBA(0, 0, 0, 1)
            HoverFill: =Transparent
            Italic: =true
            OnSelect: |-
                =If(
                    EndsWith(
                        Lower(EmploymentData.'Attachment #2'.FileName),
                        ".png"
                    ) || EndsWith(
                        Lower(EmploymentData.'Attachment #2'.FileName),
                        ".jpg"
                    ) || EndsWith(
                        Lower(EmploymentData.'Attachment #2'.FileName),
                        ".jpeg"
                    ),
                    // Set the Image variable to the file
                    Set(ImgVar, EmploymentData.'Attachment #2'.Value);
                    // Show the Image Viewer
                    Set(
                        showImg,
                        !showImg
                    );
                    // Show Image Viewer Exit Button
                    Set(
                        showAttachmentCancel,
                        !showAttachmentCancel
                    );
                    ,
                    // pdf or docx (nested if)
                    If(
                        EndsWith(
                            Lower(EmploymentData.'Attachment #2'.FileName),
                            ".pdf"
                        ),
                        // Set the DocVar to the file
                        Set(DocVar, EmploymentData.'Attachment #2'.Value);
                        // Show PDF Viewer
                        Set(
                            showPdf,
                            !showPdf
                        );
                        Set(
                            showAttachmentCancel,
                            !showAttachmentCancel
                        );
                        ,
                    // not an image && not a pdf
                        false
                    );
                    
                )
            PressedBorderColor: =
            PressedColor: =
            Size: =12
            Text: |
                =CourseData.'Attachment #2'.FileName
            Visible: =
            Width: =469
            X: =66
            Y: =1034
            ZIndex: =22

        download1_10 As icon.Save:
            Color: =RGBA(0, 0, 0, 1)
            Height: =16
            Icon: =Icon.Download
            OnSelect: |-
                =If(
                    EndsWith(
                        Lower(EmploymentData.'Attachment #2'.FileName),
                        ".png"
                    ) || EndsWith(
                        Lower(EmploymentData.'Attachment #2'.FileName),
                        ".jpg"
                    ) || EndsWith(
                        Lower(EmploymentData.'Attachment #2'.FileName),
                        ".jpeg"
                    ),
                    // Set the Image variable to the file
                    Set(ImgVar, EmploymentData.'Attachment #2'.Value);
                    // Show the Image Viewer
                    Set(
                        showImg,
                        !showImg
                    );
                    // Show Image Viewer Exit Button
                    Set(
                        showAttachmentCancel,
                        !showAttachmentCancel
                    );
                    ,
                    // pdf or docx (nested if)
                    If(
                        EndsWith(
                            Lower(EmploymentData.'Attachment #2'.FileName),
                            ".pdf"
                        ),
                        // Set the DocVar to the file
                        Set(DocVar, EmploymentData.'Attachment #2'.Value);
                        // Show PDF Viewer
                        Set(
                            showPdf,
                            !showPdf
                        );
                        Set(
                            showAttachmentCancel,
                            !showAttachmentCancel
                        );
                        ,
                    // not an image && not a pdf
                        false
                    );
                    
                )
            Visible: =
            Width: =40
            X: =538
            Y: =1037
            ZIndex: =23

    Emp_Attach3_1 As group:
        Height: =5
        Width: =5
        X: =20
        Y: =20
        ZIndex: =28

        Course_AttachBtn_8 As button:
            Align: =Align.Left
            Color: =RGBA(0, 0, 0, 1)
            DisabledColor: =RGBA(0, 0, 0, 0)
            Fill: =Transparent
            FontWeight: =FontWeight.Normal
            Height: =26
            HoverBorderColor: =RGBA(0, 0, 0, 0)
            HoverColor: =RGBA(0, 0, 0, 1)
            HoverFill: =Transparent
            Italic: =true
            OnSelect: |-
                =If(
                    EndsWith(
                        Lower(EmploymentData.'Attachment #3'.FileName),
                        ".png"
                    ) || EndsWith(
                        Lower(EmploymentData.'Attachment #3'.FileName),
                        ".jpg"
                    ) || EndsWith(
                        Lower(EmploymentData.'Attachment #3'.FileName),
                        ".jpeg"
                    ),
                    // Set the Image variable to the file
                    Set(ImgVar, EmploymentData.'Attachment #3'.Value);
                    // Show the Image Viewer
                    Set(
                        showImg,
                        !showImg
                    );
                    // Show Image Viewer Exit Button
                    Set(
                        showAttachmentCancel,
                        !showAttachmentCancel
                    );
                    ,
                    // pdf or docx (nested if)
                    If(
                        EndsWith(
                            Lower(EmploymentData.'Attachment #3'.FileName),
                            ".pdf"
                        ),
                        // Set the DocVar to the file
                        Set(DocVar, EmploymentData.'Attachment #3'.Value);
                        // Show PDF Viewer
                        Set(
                            showPdf,
                            !showPdf
                        );
                        Set(
                            showAttachmentCancel,
                            !showAttachmentCancel
                        );
                        ,
                    // not an image && not a pdf
                        false
                    );
                    
                )
            PressedBorderColor: =
            PressedColor: =
            Size: =12
            Text: |
                =CourseData.'Attachment #2'.FileName
            Visible: =
            Width: =469
            X: =66
            Y: =1082
            ZIndex: =25

        download1_11 As icon.Save:
            Color: =RGBA(0, 0, 0, 1)
            Height: =16
            Icon: =Icon.Download
            OnSelect: |-
                =If(
                    EndsWith(
                        Lower(EmploymentData.'Attachment #3'.FileName),
                        ".png"
                    ) || EndsWith(
                        Lower(EmploymentData.'Attachment #3'.FileName),
                        ".jpg"
                    ) || EndsWith(
                        Lower(EmploymentData.'Attachment #3'.FileName),
                        ".jpeg"
                    ),
                    // Set the Image variable to the file
                    Set(ImgVar, EmploymentData.'Attachment #3'.Value);
                    // Show the Image Viewer
                    Set(
                        showImg,
                        !showImg
                    );
                    // Show Image Viewer Exit Button
                    Set(
                        showAttachmentCancel,
                        !showAttachmentCancel
                    );
                    ,
                    // pdf or docx (nested if)
                    If(
                        EndsWith(
                            Lower(EmploymentData.'Attachment #3'.FileName),
                            ".pdf"
                        ),
                        // Set the DocVar to the file
                        Set(DocVar, EmploymentData.'Attachment #3'.Value);
                        // Show PDF Viewer
                        Set(
                            showPdf,
                            !showPdf
                        );
                        Set(
                            showAttachmentCancel,
                            !showAttachmentCancel
                        );
                        ,
                    // not an image && not a pdf
                        false
                    );
                    
                )
            Visible: =
            Width: =40
            X: =538
            Y: =1085
            ZIndex: =26

    Emp_DebugButtonGroup As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =31

        Debug_PersonalInfo_4 As button:
            Height: =70
            OnSelect: =Navigate(PersonalInfoScreen)
            Size: =24
            Text: ="Button"
            Visible: =false
            Width: =75
            X: =565
            Y: =92
            ZIndex: =27

        Debug_Messenger_4 As button:
            Height: =70
            OnSelect: |-
                =Launch("msteams://")
            Size: =24
            Text: ="Button"
            Visible: =false
            Width: =75
            X: =490
            Y: =92
            ZIndex: =28

        Debug_Notification_4 As button:
            Height: =70
            OnSelect: =Navigate(NotificationScreen)
            Size: =24
            Text: ="Button"
            Visible: =false
            Width: =75
            X: =415
            Y: =92
            ZIndex: =29

        Debug_MainMenu_4 As button:
            Height: =70
            OnSelect: =Navigate(DashboardScreen)
            Size: =24
            Text: ="Button"
            Visible: =false
            Width: =75
            X: =266
            Y: =92
            ZIndex: =30

    EmploymentsDetails_DescriptionsDropdown As group:
        Height: =5
        Width: =5
        X: =1
        Y: =-541
        ZIndex: =60

        descHeader_2 As label:
            BorderColor: =RGBA(230, 230, 230, 1)
            BorderThickness: =2
            Fill: =RGBA(255, 255, 255, 1)
            Font: =FontFamilyB
            FontWeight: =FontWeight.Semibold
            Height: =70
            PaddingLeft: =20
            Size: =CardTextFont
            Text: ="Description"
            Width: =560
            X: =41
            Y: =760
            ZIndex: =8

        Icon1_8 As icon.Add:
            Color: =Yellow1
            Height: =42
            Icon: =Icon.ChevronDown
            OnSelect: |-
                =Set(showDescription, !showDescription);
                Set(showReq, false);
            Width: =42
            X: =535
            Y: =descHeader_2.Y+15
            ZIndex: =9

        descriptionbox_2 As label:
            BorderColor: =RGBA(230, 230, 230, 1)
            BorderThickness: =2
            DisplayMode: =DisplayMode.View
            Fill: =RGBA(255, 255, 255, 1)
            Height: =If(showDescription, 160, 0)
            Overflow: =Overflow.Scroll
            PaddingLeft: =20
            Size: =12
            Text: =EmploymentData.Description
            VerticalAlign: =VerticalAlign.Top
            Visible: =showDescription
            Width: =560
            X: =41
            Y: =descHeader_2.Y+ descHeader_2.Height
            ZIndex: =10

    EmploymentDetails_Attachments As group:
        Height: =5
        Width: =5
        X: =20
        Y: =821
        ZIndex: =60

        Attachments_3 As label:
            BorderColor: =RGBA(230, 230, 230, 1)
            BorderThickness: =2
            Fill: =RGBA(255, 255, 255, 1)
            Font: =FontFamilyB
            FontWeight: =FontWeight.Semibold
            Height: =70
            PaddingLeft: =20
            Size: =CardTextFont
            Text: =__localizer.Localize("ANA_TRAINING_DETAIL_ATTACHMENTS", LangEn)
            Width: =560
            X: =41
            Y: =prereqbox_2.Y + prereqbox_2.Height
            ZIndex: =14

        Icon1_9 As icon.Add:
            Color: =Yellow1
            Height: =42
            Icon: =Icon.ChevronDown
            OnSelect: |
                =Set(showAttachments, !showAttachments);
                If(showOrders=true, Set(showOrders, false), Set(showOrders, false));
                If(showReq=true, Set(showReq, false), Set(showReq, false));
            Width: =42
            X: =535
            Y: =Attachments_3.Y+15
            ZIndex: =15

        Attachments_box_3 As label:
            BorderColor: =RGBA(230, 230, 230, 1)
            BorderThickness: =2
            Fill: =RGBA(255, 255, 255, 1)
            FontWeight: =FontWeight.Semibold
            Height: =186
            PaddingLeft: =20
            Size: =18
            Text: =""
            Visible: =showAttachments
            Width: =560
            X: =41
            Y: =Attachments_3.Y+ Attachments_3.Height
            ZIndex: =16

    EmploymentsDetails_PrereqsDropdown As group:
        Height: =5
        Width: =5
        X: =1
        Y: =-541
        ZIndex: =62

        prereqheader_2 As label:
            BorderColor: =RGBA(230, 230, 230, 1)
            BorderThickness: =2
            Fill: =RGBA(255, 255, 255, 1)
            Font: =FontFamilyB
            FontWeight: =FontWeight.Semibold
            Height: =70
            PaddingLeft: =20
            Size: =CardTextFont
            Text: =__localizer.Localize("ANA_DETAIL_PREREQUISITES", LangEn)
            Width: =560
            X: =41
            Y: =descriptionbox_2.Y+descriptionbox_2.Height
            ZIndex: =11

        arrow_2 As icon.Add:
            Color: =Yellow1
            Height: =42
            Icon: =Icon.ChevronDown
            OnSelect: |-
                =Set(showReq, !showReq);
                If(showDescription, Set(showDescription, false));
                If(showAttachments, Set(showAttachments, false));
            Width: =42
            X: =535
            Y: =prereqheader_2.Y + 15
            ZIndex: =12

        prereqbox_2 As label:
            BorderColor: =RGBA(230, 230, 230, 1)
            BorderThickness: =2
            Fill: =RGBA(255, 255, 255, 1)
            Height: =If(showReq, 160, 0)
            Overflow: =Overflow.Scroll
            PaddingLeft: =20
            PaddingTop: =20
            Size: =12
            Text: =EmploymentData.Prerequisites    
            VerticalAlign: =VerticalAlign.Top
            Visible: |
                =showReq
            Width: =560
            X: =41
            Y: =prereqheader_2.Y+prereqheader_2.Height
            ZIndex: =13

