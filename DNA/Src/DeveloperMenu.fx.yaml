DeveloperMenu As screen:
    OnVisible: |-
        =//get reference to training event
        UpdateContext(
            { 
                TrainingEventId: LookUp('Training Events', 'Training Event Name' = "Testing Training Event (DO NOT EDIT)").'Training Event' ,
                TrainingUserId: LookUp(Personnels, 'First Name' = "Test User (DO NOT EDIT)").Personnel
            }
        );
        
        If(IsBlank(TrainingEventId) Or IsBlank(TrainingEventId), 
            Clear(DeveloperMessageQueue), 
            ClearCollect(DeveloperMessageQueue, { Message: "No errors", Icon: Icon.CheckBadge })
        ); 
        
        //update logs
        If(!IsBlank(TrainingEventId),
            //do nothing,
            Collect(DeveloperMessageQueue, { Icon: Icon.Warning, Message: "Test Training Event not found.  Add this in the model driven app." })
        );
        
        If(!IsBlank(TrainingUserId),
            //do nothing,
            Collect(DeveloperMessageQueue, { Icon: Icon.Warning, Message: "Test User not found.  Add this in the model driven app." })
        );

    DM_HeaderLabel As label:
        Align: =Align.Center
        Color: =RGBA(255, 255, 255, 1)
        Fill: =RGBA(0, 0, 0, 1)
        Height: =70
        Size: =21
        Text: ="Developer Menu"
        Width: =640
        ZIndex: =1

    DM_Container As groupContainer.manualLayoutContainer:
        Height: =Parent.Height - DM_HeaderLabel.Height
        Width: =Parent.Width
        Y: =DM_HeaderLabel.Height
        ZIndex: =3

        DM_ScrollContainer As groupContainer.verticalAutoLayoutContainer:
            Height: =480
            LayoutAlignItems: =LayoutAlignItems.Center
            LayoutDirection: =LayoutDirection.Vertical
            LayoutGap: =24
            LayoutMode: =LayoutMode.Auto
            PaddingTop: =24
            Width: =Parent.Width
            ZIndex: =1

            DM_Row1 As groupContainer.horizontalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                FillPortions: =0
                Height: =100
                LayoutAlignItems: =LayoutAlignItems.Center
                LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                PaddingLeft: =24
                PaddingRight: =24
                Width: =Parent.Width
                ZIndex: =1

                DM_Row1_Label As label:
                    Align: =Align.Center
                    Height: =70
                    LayoutMinHeight: =70
                    LayoutMinWidth: =560
                    Size: =21
                    Text: ="Show Test Buttons"
                    Width: =Parent.Width / 2
                    ZIndex: =1

                DM_Row1_Toggle As toggleSwitch:
                    Height: =49
                    LayoutMinHeight: =49
                    LayoutMinWidth: =154
                    OnChange: =Set(EnableTestMode, !EnableTestMode)
                    Size: =21
                    TrueFill: =RGBA(207, 164, 35, 1)
                    Width: =154
                    ZIndex: =2

        DM_ResetContainer As groupContainer.verticalAutoLayoutContainer:
            Height: =480
            LayoutAlignItems: =LayoutAlignItems.Center
            LayoutDirection: =LayoutDirection.Vertical
            LayoutGap: =24
            LayoutMode: =LayoutMode.Auto
            PaddingTop: =24
            Width: =Parent.Width
            Y: =DM_ScrollContainer.Height + DM_ScrollContainer.Y
            ZIndex: =2

            DM_ResetTrainingEvt As button:
                Fill: =RGBA(0, 0, 0, 1)
                Font: =Font.'Segoe UI'
                Height: =65
                LayoutMinHeight: =70
                LayoutMinWidth: =280
                OnSelect: |-
                    =Patch('Training Event Attendees', 
                        LookUp('Training Event Attendees', 
                            'Training Event'.'Training Event' = TrainingEventId
                        ), 
                        { 'Commit to Training Status': 'Commit to Training Status'.Notified }
                    );
                Size: =24
                Text: ="Reset Test Training Event"
                Width: =Parent.Width - 50   
                ZIndex: =1

            DM_ResetTestUser As button:
                Fill: =RGBA(0, 0, 0, 1)
                Font: =Font.'Segoe UI'
                Height: =65
                LayoutMinHeight: =70
                LayoutMinWidth: =280
                OnSelect: =
                Size: =24
                Text: ="Reset Test User"
                Width: =Parent.Width - 50   
                ZIndex: =2

    DM_StatusMenuLink As icon.Add:
        Color: =RGBA(255, 191, 0, 1)
        Height: =48
        Icon: =Icon.Warning
        OnSelect: =Navigate(DeveloperStatusMenu, ScreenTransition.CoverRight)
        Visible: =If(CountRows(DeveloperMessageQueue) <= 1, false, true)
        Width: =48
        X: =569
        Y: =11
        ZIndex: =4

